// 2 запрос внутри цикла старый

ВЫБРАТЬ
	РегНакПродуктыОстатки.РегНакПродуктыИзмПродукт КАК РегНакПродуктыИзмПродукт,
	РегНакПродуктыОстатки.РегНакПродуктыРесКоличествоОстаток КАК РегНакПродуктыРесКоличествоОстаток,
	РегНакПродуктыОстатки.РегНакПродуктыРесСуммаОстаток КАК РегНакПродуктыРесСуммаОстаток
ИЗ
	РегистрНакопления.РегНакПродукты.Остатки(&ДатаЗапроса, ) КАК РегНакПродуктыОстатки
	// удалим ненужное условие от внешнего запроса : РегистрНакопления.РегНакПродукты.Остатки(&ДатаЗапроса, РегНакПродуктыИзмПродукт = &УсловЗапросаПоПродукту) КАК РегНакПродуктыОстатки

<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<title>1С-Предприятие. Документация | Управление распределенными ИБ. Глава 6.</title>
<link rel="stylesheet" type="text/css" href="../1c.css">
</head>
<body background="../images/background_main.gif"> <div> 
  <h3 align="left"><a name="_Toc485063195">Глава 6</a></h3>
  <h3 align="left"><a name="_Toc485063196">Средства встроенного языка, ориентированные 
    на работу с распределенной ИБ</a></h3>
  <h4><a name="_Toc485063197">Системные функции</a></h4>
  <p>Для отражения в конфигурации особенностей работы в распределенной 
    информационной базе предназначены следующие системные фунвдии:</p>
  <div> 
    <h5><a name="_Toc485063198">ТекущаяИБКод</a></h5>
  </div>
  <p>Получить код текущей ИБ. </p>
  <p><b>Синтаксис:</b> </p>
  <p>ТекущаяИБКод()</p>
  <p><b>Англоязычный синоним:</b></p>
  <p>CurrentIBCode()</p>
  <p><b>Параметры:</b></p>
  <p>Нет.</p>
  <p><b>Возвращаемое значение:</b></p>
  <p>Строковое выражение, состоящее из трех символов и содержащее 
    код текущей ИБ так, как он задан в диалоге «Управление распределенными данными» 
    Конфигуратора центральной ИБ.</p>
  <p><b>Описание:</b></p>
  <p>Функция ТекущаяИБКод возвращает код 
    ИБ, на которой запущена система 1С:Предприятие.</p>
  <p><b>Замечание.</b> Функция возвращает строку, состоящую из трех 
    пробелов, если ИБ нераспределенная.</p>
  <p><b>Пример:</b></p>
  <p>КодИБ = ТекущаяИБКод();</p>
  <p>Если КодИБ = &quot;ЦОФ&quot; 
    тогда</p>
  <p>Предупреждение(&quot;Конфигурация исполняется на центральной 
    ИБ&quot;, 3);</p>
  <p>КонецЕсли ;</p>
  <div> 
    <h5><a name="_Toc485063199">ТекущаяИБНаименование</a></h5>
  </div>
  <p><b>Синтаксис:</b></p>
  <p>ТекущаяИБНаименование ( )</p>
  <p><b>Англоязычный синоним:</b></p>
  <p><b>Параметры:</b></p>
  <p>Нет.</p>
  <p><b>Возвращаемое значение:</b></p>
  <p>Строковое выражение, содержащее<b> наименование</b> текущей ИБ ч;</p>
  <p>как оно задано в диалоге «Управление распределенными данным:</p>
  <p>Конфигуратора центральной ИБ.</p>
  <p><b>Описание:</b></p>
  <p>Функция ТекущаяИБНаименование возвращает 
    наименование ИБ, на которой запущена система 1С:Предприятие.</p>
  <p><b>Замечание.</b> Функция возвращает пустую строку, если ИБ нераспределенная.</p>
  <p><b>Пример:</b></p>
  <p>Предупреждение(&quot;Наименование 
    текущей ИВ - &quot; ТекущаяИВНаименование(), 2);</p>
  <div> 
    <h5><a name="_Toc485063200">ЦентральнаяИБКод</a></h5>
  </div>
  <p>Получить код центральной ИБ. </p>
  <p><b>Синтаксис:</b></p>
  <p>ЦентральнаяИБКод()</p>
  <p><b>Англоязычный синоним:</b></p>
  <p><b>Параметры:</b></p>
  <p>Нет.</p>
  <p><b>Возвращаемое значение:</b></p>
  <p>Строковое выражение, состоящее из трех символов и содержащее 
    код центральной И Б так, как он задан в диалоге «Управление распределенными 
    данными» Конфигуратора центральной ИБ.</p>
  <p><b>Описание:</b></p>
  <p>Функция ЦентральнаяИБКод возвращает код центральной 
    ИБ.</p>
  <p><b>Замечание.</b> Функция возвращает строку, состоящую из трех 
    пробелов, если И Б нераспределенная.</p>
  <p><b>Пример:</b></p>
  <p>КодИБ = ТекущаяИБКод !) ;</p>
  <p>Если 
    КодИБ = ЦентральнаяИБКод() Тогда</p>
  <p>     Предупреждение(&quot;Конфигурация 
    исполняется на центральной ИБ&quot;);</p>
  <p>КонецЕсли;</p>
  <div> 
    <h5><a name="_Toc485063201">ТекущаяИБЦентральная</a></h5>
  </div>
  <p align=center>Определить, является ли текущая ИБ центральной.</p>
  <p><b>Синтаксис:</b></p>
  <p>ТекущаяИБЦентральная()</p>
  <p><b>Англоязычный синоним:</b></p>
  <p>1зСиггепЫВСепЬег</p>
  <p><b>Параметры:</b></p>
  <p>Нет.</p>
  <p><b>Возвращаемое значение:</b></p>
  <p>Число: 1, если текущая ИБ центральная, 
    или 0-в противном случае.</p>
  <p><b>Описание:</b></p>
  <p>Функция ТекущаяИБЦентральная возвращает 
    1, если ИБ, на которой загущена система 1С:Предприята-: - ^--п тральная, и 
    0 - если периферийная.                                             _</p>
  <p><b>Замечание.</b> функЦИЯ возвращает 1. если ИБ нераспределенная. 
  </p>
  <p><b>Пример:</b></p>
  <p>Если ТекущаяИБЦентральная() 
    = 0 Тогда</p>
  <p>Сообщ 
    = &quot;Конфигурация исполняется на периф&quot; ;</p>
  <p>Предупреждение(Сообщ, 
    3);</p>
  <p>КонецЕсли;</p>
  <div> 
    <h5><a name="_Toc485063202">ИБСозданияОбъекта</a></h5>
  </div>
  <p>Определить ИБ, создавшую объект. </p>
  <p><b>Синтаксис:</b></p>
  <p>ИБСозданияОбъекта<i>(&lt;0бъект&gt;)</i></p>
  <p><b>Англоязычный синоним:</b></p>
  <p>В1г^-ЫЗОЮЬзес1:</p>
  <p><b>Параметры:</b></p>
  <p align=center>&lt;0бъект&gt;                
    Элемент справочника, документ или бухгалтерский счет.</p>
  <p><b>Возвращаемое значение:</b></p>
  <p>Строковое выражение, состоящее из трех символов и содержащее 
    код ИБ, создавшей переданный в качестве параметра объект, так, как он задан 
    в диалоге «Управление распределенными данными» Конфигуратора центральной ИБ.</p>
  <p><b>Описание:</b></p>
  <p>Функция ИБСозданияОбъекта возвращает код ИБ, на которой 
    был создан первоначально объект, переданный функции в качестве параметра.</p>
  <p><b>Замечание.</b> Если создание распределенной информационной 
    базы происходило из эксплуатировавшейся нераспределенной, то для всех элементов 
    справочника и документов, созданных в нераспределенной ИБ, функция вернет 
    код центральной ИБ. В нераспределенной ИБ функция вернет строку, состоящую 
    из трех пробелов.</p>
  <p><b>Пример:</b></p>
  <p>//• :гротивном случае с:</p>
  <p>Процедура ПриОткрытик()</p>
  <p>Док = ТекущийДокумент() ;</p>
  <p>КдСозд - ИБСозданияОбъекта(Док! 
    ;</p>
  <p>Если КдСозд о ТекущаяИБКод() 
    Тогда Форма.ТолькоПросмотр(1) ;</p>
  <p>КонецЕсли;</p>
  <p>КонецПрсцедуры</p>
  <div> 
    <h5><a name="_Toc485063203">ТекущаяИБТолькоПолучатель</a></h5>
  </div>
  <p>Определить имеет ли текущая информационная база признак «Только 
    получатель».</p>
  <p><b>Синтаксис:</b></p>
  <p>ТекущаяИБТолькоПолучатель()</p>
  <p><b>Англоязычный синоним:</b></p>
  <p>1зСиггеп&lt;:1ВКесер1еп1:Оп1у</p>
  <p><b>Параметры:</b></p>
  <p>Нет.</p>
  <p><b>Возвращаемое значение:</b></p>
  <p>Число: 1, если текущая ИБ центральная, 
    или О-в противном случае.</p>
  <p><b>Описание:</b></p>
  <p>Функция ТекуэдаяИБТолькоПолучатель 
    возвращает 1, если И Б, на<b> которой запущена система 1 (^Предприятие -</b>   
    имеет признак <b>«Только получатель», и 0 - если нет.</b></p>
  <p><b>Замечание.</b> Функция<b> ишщыиргт 
    0. ггтп ИБ</b> нераспределенная. <b>Пример:</b></p>
  <h4><a name="_Toc485063204">Методы агрегатных объектов</a></h4>
  <p>Для использования возможностей выборочной регистрации изменений 
    объектов в распределенной информационной базе у агрегатных объектов типа «Справочник» 
    и «Документ» существует метод Регист-рацияИзменений.</p>
  <div> 
    <h5><a name="_Toc485063205">РегистрацияИзменений</a></h5>
  </div>
  <p>Включить / выключить режим регистрации изменений объ екта.</p>
  <p><b>Синтаксис:</b></p>
  <p>РегистрацияИзменений (<b>[ВклВыкл])</b></p>
  <p><b>Англоязычный синоним:</b></p>
  <p>ЕпаЫеР.ед1з1:егирс1а1:е</p>
  <p><b>Параметры:</b></p>
  <p>[Вкл/Выкл]                Число 1 - если изменения должны регистрироваться, 
    число 0 - если изменения не должны регистрироваться. Если параметр не указан, 
    то режим не изменяется.</p>
  <p><b>Возвращаемое значение:</b></p>
  <p>Функция возвращает установленный 
    до ее вызова режим. Число 1 - если режим регистрации для данного объекта установлен 
    и число О,если нет.</p>
  <p><b>Описание:</b></p>
  <p>Метод РегистрацияИзменений доступен 
    только у объектов типа «Справочник» и -«Документ» созданных функцией «СоздатьОбъект». 
    Он применяется для установки режима регистрации изменений, выполняемых данным 
    агрегатным объектом. Первоначально этот режим соответствует установленному 
    для объектов данного вида режиму в метаданных.</p>
  <p><b>Замечание.</b> Особенностью вызова данного метода является 
    то, что он действует с момента своего вызова и до перепозиционирования объекта. 
    То есть, его следует вызывать после того, как объект выбран, и до записи изменений. 
    После следующего позиционирования объекта режим снова будет установлен в соответствии 
    с режимом выбранном в метаданных.</p>
  <p><b>Пример:</b></p>
  <p>//Специальное 
    перепроведение </p>
  <p>//без 
    регистрации изменений Процедура СпециальиоеПерепроведение()</p>
  <p>Док 
    = Создать0бъект(«Документ.Накладная»);</p>
  <p>Док.Вы5ратьДокументы('01.01.98','31.12.98');</p>
  <p>Пока 
    Док.ПолучитьДокумент() <i>-•1</i> Цикл</p>
  <p>Док. РегистрацияИзменений (0) ;</p>
  <p>Док.провести() ;</p>
  <p>КонецЦикла;</p>
  <p>КонецПроцедуры</p>
</div>
<center>
<hr>
  <a href="urbd00.html"><img src="images/oglav.gif" border="0" alt="Перейти  к оглавлению: Управление распределенными ИБ" width="113" height="19"></a> 
  <hr>

  <font size="1">[an error occurred while processing this directive]</font> 
</center>
<p align="center"><!-- SpyLOG v2 f:0111 --> 
    <script language="javascript"> 
u="u075.93.spylog.com";d=document;nv=navigator;na=nv.appName;p=1; 
bv=Math.round(parseFloat(nv.appVersion)*100); 
n=(na.substring(0,2)=="Mi")?0:1;rn=Math.random(); z="p="+p+"&rn="+rn;y=""; 
y+="<a href='http://"+u+"/cnt?f=3&p="+p+"&rn="+rn+"' target=_blank>"; 
y+="<img src='http://"+u+"/cnt?"+z+ 
"&r="+escape(d.referrer)+ "&pg="+escape(window.location.href)+"' border=0 width=88 height=31 alt='SpyLOG'>"; 
y+="</a>"; d.write(y); if(!n) { d.write("<"+"!--"); } //--></script>
    <noscript> <a href="http://u075.93.spylog.com/cnt?f=3&p=1" target=_blank> 
    <img src="file:///c:/temp/u075.93.spylog.com/cnt@p=1" alt='SpyLOG' border='0' width=88 height=31 > 
    </a> </noscript> 
    <script language="javascript1.2"><!-- 
if(!n) { d.write("--"+">"); }//--></script>
    <!-- SpyLOG --> </p>
  </body>
</html>

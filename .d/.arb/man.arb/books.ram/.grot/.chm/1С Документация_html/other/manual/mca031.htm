
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<title>1С-Предприятие. Документация | Конфигурирование и администрирование. Глава 
31</title>

<link rel="stylesheet" type="text/css" href="../../1c.css">
</head>
<body lang=RU link=#0000FF vlink=#800080 background="../../images/background_main.gif">
<h1 class="highlink"><a name="_Toc496455942"><font size="4">Глава 31.<br>
  Отладчик</font></a></h1>
<hr>
<ul>
  <li><a href="#_toc496455943">Использование Отладчика</a></li>
  <li><a href="#_toc496455944">Запуск Отладчика</a></li>
  <li><a href="#_toc496455945">Список модулей</a></li>
  <li><a href="#_toc496455946">Окно модуля</a></li>
  <li><a href="#_toc496455947">Точка останова</a></li>
  <li><a href="#_toc496455948">Пошаговое выполнение</a></li>
  <li><a href="#_toc496455949">Табло</a></li>
  <li><a href="#_toc496455950">Диалог «Выражение»</a></li>
  <li><a href="#_toc496455951">Стек вызовов</a></li>
  <li><a href="#_toc496455952">Замеры производительности</a></li>
  <li><a href="#_toc496455953">Настройка интерфейса</a></li>
</ul>
<p>Отладчик — вспомогательный инструмент, облегчающий разработку программных модулей 
  системы 1С:Предприятие. Отладчик предоставляет следующие возможности:</p>
<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  пошаговое выполнение модуля;</p>
<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  расстановка точек останова;</p>
<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  прерывание и продолжение выполнения модуля;</p>
<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  возможность отладки нескольких модулей одновременно;</p>
<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  вычисление выражений для анализа состояния переменных;</p>
<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  просмотр стека вызовов процедур и функций;</p>
<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  замеры производительности.</p>
<h2><a name="_Toc469142282"></a><a name="_Toc496455943">Использование Отладчика</a></h2>
<p>Ниже приведен порядок использования 1С:Отладчика. Отладчик является внешним 
  инструментом, поэтому для его работы необходимо, чтобы одновременно с ним была 
  запущена система 1С:Предприятис. Последовательность запуска программ не имеет 
  значения (кроме случая использования Отладчика для замера производительности; 
  для этого случая порядок действий описан ниже в соответствующем разделе).</p>
<p>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  Запустите Отладчик и систему 1С:Предприятие. Это можно сделать стандартным 
  способом запуска программ или воспользоваться соответствующими пунктами меню 
  «Сервис» главного меню Конфигуратора. Кроме того, Отладчик может быть запущен 
  при редактировании текста модуля с помощью пункта «Открыть в отладчике» меню 
  «Действия» главного меню Конфигуратора.</p>
<p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  Перейдите в Отладчик и откройте в списке программных модулей нужный модуль.</p>
<p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  Расставьте в интересующих пас строках модуля точки останова.</p>
<p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  Перейдите в систему 1С:Предприятие.</p>
<p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  Выполните действия, которые вызовут исполнение отлаживаемого модуля (например, 
  проведите документ или сформируйте отчет).</p>
<p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  После того, как сработала точка останова, управление автоматически перейдет 
  к Отладчику.</p>
<p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  Проведите пошаговое выполнение нужного вам фрагмента модуля.</p>
<p><b>Внимание</b>. В процессе пошагового исполнения модуля не рекомендуется 
  закрывать ни одну из двух взаимодействующих программ.</p>
<p>С помощью табло и диалога «Выражение» вы можете получить значения интересующих 
  вас выражений. Стек вызовов позволяет проследить последовательность вызова процедур 
  и функций.</p>
<p>В случае, если вы не хотите продолжать пошаговое выполнение модуля дальше, 
  с помощью команды «Продолжить» меню «Отладка» главного меню Отладчика разрешите 
  системе 1С:Предприятие свободное выполнение модуля (до следующей точки останова). 
  Система 1С:Предприятис активизируется автоматически.</p>
<p>В случае, если вы хотите прервать процесс отладки в целом, снимите все точки 
  останова со всех модулей, либо просто закройте Отладчик. Если вы хотите прервать 
  отладку только данного модуля, воспользуйтесь командой «Прекратить» из меню 
  «Отладка» главного меню Отладчика.</p>
<p>Ниже более подробно описаны функции Отладчика.</p>
<h2><a name="_Toc469142283"></a><a name="_Toc496455944">Запуск Отладчика</a></h2>
<p>Для запуска Отладчика выберите пункт «Отладчик» в меню Пуск — Программы — 1С:Предприятие.</p>
<p>При работе в Конфигураторе Отладчик можно вызвать, выбрав пункт «Отладчик» 
  в меню «Сервис» главного меню Конфигуратора. Результат этого действия будет 
  аналогичен запуску Отладчика обычным для MS Windows 
  способом.</p>
<p><b>Внимание</b>. Нельзя запустить несколько копий Отладчика одновременно.</p>
<p>Если в процессе редактирования конкретного модуля в Конфигураторе возникла 
  необходимость отладки модуля, в меню «Действия» главного меню Конфигуратора 
  выберите пункт «Открыть в отладчике». В этом случае будет запущен Отладчик (если 
  он не был запущен ранее) и в Отладчике будет автоматически активизировано окно 
  с текстом редактируемого модуля.</p>
<h2><a name="_Toc469142284"></a><a name="_Toc496455945">Список модулей</a></h2>
<p>Основным окном Отладчика является список всех модулей, содержащихся в текущей 
  конфигурации. Список модулей имеет древовидную структуру и в основной своей 
  части повторяет структуру метаданных, которую можно видеть в окне Конфигуратора 
  «Конфигурация — Метаданные». Дополнительно «дерево модулей» содержит ветвь «Внешние 
  отчеты (обработки)» — для работы с модулями внешних отчетов, и глобальный модуль.</p>
<p>Для открытия окна с текстом конкретного модуля необходимо дважды щелкнуть мышью 
  на наименовании нужного программного модуля.</p>
<p><b>Отладка внешних отчетов</b>. Для отладки модуля внешнего отчета необходимо 
  открыть файл внешнего отчета в Отладчике, воспользовавшись пунктом «Внешний 
  Отчет» в меню «Файл» главного меню Отладчика. Открытый файл внешнего отчета 
  автоматически будет добавлен в список модулей на ветвь «Внешние отчеты (обработки)».</p>
<p>В дальнейшем с модулем внешнего отчета в Отладчике можно работать так же, как 
  и с любым другим модулем.</p>
<p>Добавление внешнего отчета в список модулей сохраняется только до выхода из 
  Отладчика: при повторном входе в Отладчик потребуется вновь загрузить внешние 
  отчеты, которые требуется отлаживать.</p>
<h2><a name="_Toc469142285"></a><a name="_Toc496455946">Окно модуля</a></h2>
<p>Окно, содержащее текст конкретного модуля, представляет собой редактор текстов 
  системы 1С:Предприятие, открытый в режиме «только для чтения».</p>
<p>В этом режиме доступны практически все возможности редактора, не связанные 
  с изменением текста модуля — поиск, переход к нужной строке и др., которые необходимы 
  для удобного поиска нужного фрагмента модуля. Текущее положение в тексте модуля 
  отмечает курсор — мигающая вертикальная полоска.</p>
<p>Подробнее о работе с текстовым редактором можно узнать в главе «Редактор текстов».</p>
<h2><a name="_Toc469142286"></a><a name="_Toc496455947">Точка останова</a></h2>
<p>Точкой останова называется маркер, устанавливаемый на конкретную строку программного 
  модуля. При достижении точки останова исполнение программного модуля останавливается, 
  и управление передается Отладчику.</p>
<p>Точку останова можно установить в любой строке модуля, в любой момент работы 
  с Отладчиком. В случае, если строка, на которой устанавливается точка останова, 
  не содержит операторов (например, пустая строка) или является продолжением оператора, 
  начатого на предыдущих строках, в процессе работы положение точки останова будет 
  автоматически скорректировано. Место нахождения точки останова отмечается специальным 
  знаком в левой колонке окна модуля. Для включенных и отключенных точек останова 
  используются разные знаки.</p>
<p>Для управления точками останова используются следующие команды меню «Отладка» 
  главного меню Отладчика (см. таблицу).</p>
<table border=1 cellspacing=0 cellpadding=0>
  <tr> 
    <td width=173 valign=top> 
      <p>Команда</p>
    </td>
    <td width=480 valign=top> 
      <p><b>Пояснение</b></p>
    </td>
  </tr>
  <tr> 
    <td width=173 valign=top> 
      <p>Точка останова</p>
    </td>
    <td width=480 valign=top> 
      <p>Устанавливает либо стирает точку останова на той строке, на которой стоит 
        курсор. Установить или снять точку останова можно также двойным щелчком 
        мыши на желтой полосе в левой части окна модуля.</p>
    </td>
  </tr>
  <tr> 
    <td width=173 valign=top> 
      <p>Точка останова с условием</p>
    </td>
    <td width=480 valign=top> 
      <p>Устанавливает точку останова и выдает запрос для ввода условия останова 
        — логического выражения. Останов в указанной точке будет выполняться только 
        если условие останова истинно.</p>
    </td>
  </tr>
  <tr> 
    <td width=173 valign=top> 
      <p>Отключить точку останова</p>
    </td>
    <td width=480 valign=top> 
      <p>В случае, если на той строке, на которой стоит курсор, находится точка 
        останова, включает либо отключает ее действие</p>
    </td>
  </tr>
  <tr> 
    <td width=173 valign=top> 
      <p>Убрать все точки останова</p>
    </td>
    <td width=480 valign=top> 
      <p>Стирает все ранее расставленные точки останова во всех модулях</p>
    </td>
  </tr>
  <tr> 
    <td width=173 valign=top> 
      <p>Отключить все точки останова</p>
    </td>
    <td width=480 valign=top> 
      <p>Запрещает действия всех ранее расставленных точек останова во всех модулях, 
        не удаляя их</p>
    </td>
  </tr>
</table>
<p>Кроме того, свободное выполнение модуля можно прервать, воспользовавшись 
  командой «Остановить» из меню «Отладка» главного меню Отладчика. Данная команда 
  позволяет начать пошаговое выполнение модуля, начиная с исполняемой в этот момент 
  строки. Данная команда полезна при анализе «зацикливания» модуля.</p>
<h2><a name="_Toc469142287"></a><a name="_Toc496455948">Пошаговое выполнение</a></h2>
<p>В режиме пошагового исполнения система 1С:Предприятие, выполнив очередную команду, 
  ждет от Отладчика инструкций о продолжении работы.</p>
<p>На каждом шаге исполнения модуля существует 5 вариантов продолжения. Для выбора 
  варианта продолжения используются пункты меню «Отладка» главного меню Отладчика 
  (см. таблицу).</p>
<table border=1 cellspacing=0 cellpadding=0>
  <tr> 
    <td width=87 valign=top> 
      <p><b>Команда</b></p>
    </td>
    <td width=567 valign=top> 
      <p><b>Пояснение</b></p>
    </td>
  </tr>
  <tr> 
    <td width=87 valign=top> 
      <p>Шагнуть в</p>
    </td>
    <td width=567 valign=top> 
      <p>В случае, если следующим выполняемым оператором модуля является вызов 
        функции или процедуры, начинается ее пошаговое выполнение, иначе Отладчик 
        переходит к следующему оператору</p>
    </td>
  </tr>
  <tr> 
    <td width=87 valign=top> 
      <p>Шагнуть через</p>
    </td>
    <td width=567 valign=top> 
      <p>Если следующим выполняемым оператором модуля является вызов функции или 
        процедуры, она выполняется целиком (не пошагово) и Отладчик переходит 
        к следующему оператору</p>
    </td>
  </tr>
  <tr> 
    <td width=87 valign=top> 
      <p>Шагнуть из</p>
    </td>
    <td width=567 valign=top> 
      <p>Прервать пошаговое выполнение функции или процедуры и остановиться на 
        нервом операторе, находящемся после ее вызова</p>
    </td>
  </tr>
  <tr> 
    <td width=87 valign=top> 
      <p>Идти до курсора</p>
    </td>
    <td width=567 valign=top> 
      <p>Прервать пошаговое выполнение модуля, выполнять все операторы до той 
        строки, на которой стоит курсор.</p>
    </td>
  </tr>
  <tr> 
    <td width=87 valign=top> 
      <p>Продолжить</p>
    </td>
    <td width=567 valign=top> 
      <p>Прервать пошаговое выполнение модуля и продолжить свободное выполнение.</p>
    </td>
  </tr>
</table>
<p>Команда «Прекратить» прекращает выполнение модуля и возвращает управление 
  системе 1С:Предприятие.</p>
<h2><a name="_Toc469142288"></a><a name="_Toc496455949">Табло</a></h2>
<p>Табло — специальное окно, в котором отображаются результаты вычисления введенных 
  в него выражений на встроенном языке системы 1С:Предприятие.</p>
<p>Вызов табло на экран выполняется выбором команды «Табло» в меню «Отладка» главного 
  меню Отладчика или нажатием кнопки <img border=0 width=16 height=14
src="img/_c3_eb_e0_e2_e0_2031_image002.gif" v:shapes="_x0000_i1025"> в панели 
  инструментов. Окно «Табло» является «закрепляемым» окном (см. п. «Служебные 
  окна», стр. <b>Ошибка! Закладка не определена.</b>).</p>
<p>Обычно в табло помещаются выражения, результаты вычисления которых необходимо 
  контролировать в процессе пошагового выполнения модуля. Каждое выражение находится 
  на отдельной строке.</p>
<p>Результат вычисления выдается справа от выражения, после знака «=».</p>
<p>Для ввода в табло нового выражения следует поместить курсор на первую свободную 
  строку, набрать выражение и нажать клавишу Enter. Справа от выражения появится знак «=» и результат вычисления 
  выражения.</p>
<p>Если выражение не может быть вычислено, вместо результата появится фраза «Ошибка 
  в выражении!».</p>
<p>Если курсор не переходит на новую строку, следует поместить его в конец последней 
  строки в табло, нажать клавишу Enter и после этого перевести 
  курсор на новую строку.</p>
<p>Обновление табло выполняется автоматически после выполнения любого оператора 
  модуля, после которого управление передается Отладчику.</p>
<h2><a name="_Toc469142289"></a><a name="_Toc496455950">Диалог «Выражение»</a></h2>
<p>Кроме использования табло, во время пошагового выполнения имеется возможность 
  рассчитать выражение с помощью диалога «Выражение». Этот диалог вызывается на 
  экран выбором пункта «Вычислить выражение» в меню «Отладка» главного меню Отладчика.</p>
<p>В поле «Выражение» этого диалога необходимо ввести выражение на встроенном 
  языке системы 1С:Предприятие. Выражение можно ввести «вручную» или, нажав кнопку 
  <img border=0 width=16 height=14
src="img/_c3_eb_e0_e2_e0_2031_image004.gif" v:shapes="_x0000_i1026">, выбрать 
  из списка ранее введенных выражений.</p>
<p>Если при вызове диалога «Выражение» курсор в окне модуля находится на каком-либо 
  выражении, оно автоматически подставляется в поле «Выражение».</p>
<p>Для вычисления выражения следует нажать кнопку «<b>Рассчитать</b>». Результат 
  вычисления выражения будет выдан в поле «Результат».</p>
<p>Кнопка «<b>Включить в табло</b>» помещает введенное выражение в табло. Это 
  позволит в дальнейшем прослеживать изменение результата вычисления выражения 
  в процессе отладки модуля.</p>
<h2><a name="_Toc469142290"></a><a name="_Toc496455951">Стек вызовов</a></h2>
<p>Стек вызовов показывает последовательность вызовов процедур и функций, приведшую 
  к строке модуля, которая отлаживается в данный момент. Двойным щелчком мыши 
  на имени процедуры в стеке вызова можно перейти в соответствующую строку процедуры.</p>
<h2><a name="_Toc469142291"></a><a name="_Toc496455952">Замеры производительности</a></h2>
<p>С помощью Отладчика можно оценить скорость работы всей конфигурации или ее 
  части. Измеряется частота использовани

<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<title>1С-Предприятие. Документация | Конфигурирование и администрирование. Глава 
21</title>

<link rel="stylesheet" type="text/css" href="../../1c.css">
</head>
<body lang=RU link=#0000FF vlink=#800080 background="../../images/background_main.gif">
<h1 class="highlink"><a name="_Toc496454335"><font size="4">Глава 21.<br>
  Редактор меню</font></a></h1>
<hr>
<ul>
  <li><a href="#_toc496454336">Вызов редактора меню</a></li>
  <li><a href="#_toc496454337">Создание меню</a></li>
  <ul>
    <li><a href="#_toc496454338">Создание меню «вручную»</a></li>
    <li><a href="#_toc496454339">Копирование элементов меню</a></li>
    <li><a href="#_toc496454340">Свойства элемента меню</a></li>
    <li><a href="#_toc496454341">Удаление элемента меню</a></li>
    <li><a href="#_toc496454342">Создание меню с помощью Конструктора меню</a></li>
  </ul>
  <li><a href="#_toc496454343">Изменение структуры меню</a></li>
  <li><a href="#_toc496454344">Проверка созданного меню</a></li>
</ul>
<p>В операционной системе MS Windows управление работой приложения осуществляется 
  при помощи набора команд, доступ к которым, в соответствии в принятым в MS Windows 
  стандартом, организован в виде меню.</p>
<p>Главное меню системы 1С:Предприятие может содержать команды двух типов: системные 
  и пользовательские.</p>
<p>Системные команды предоставляют доступ к набору функций, которые поддерживаются 
  исполняемым модулем системы 1С:Предприятие. Этот набор постоянный, и пользователем 
  меняться не может.</p>
<p>Пользовательское меню создается в процессе настройки конфигурации задачи при 
  разработке пользовательских интерфейсов и содержит набор пользовательских команд. 
  Для каждой категории пользователей можно создать индивидуальное меню. Как правило, 
  пользовательское меню создается с целью предоставить быстрый доступ к тем данным, 
  работа с которыми разрешена набором предоставленных пользователю прав.</p>
<p>Конфигуратор системы 1С:Преднриятие позволяет создавать пользовательское меню, 
  используя редактор меню. Пользовательское меню является принадлежностью пользовательского 
  интерфейса, создаваемого для каждой категории пользователей.</p>
<h2><a name="_Toc469054321"></a><a name="_Toc496454336">Вызов редактора меню</a></h2>
<p>Для доступа к редактору меню должен быть открыт список пользовательских интерфейсов.</p>
<p>Для вызова редактора меню выделите в списке пользовательских интерфейсов название 
  интерфейса, для которого необходимо редактировать меню, и в меню «Действия» 
  главного меню Конфигуратора выберите пункт «Редактировать меню». На экран будет 
  выдано окно редактора меню.</p>
<p><b>Окно редактора меню</b>. Окно редактора меню содержит структуру создаваемого 
  меню, представленную в виде дерева. Такое представление позволяет легко получить 
  доступ ко всем элементам меню. Для выбора любого элемента создаваемого меню 
  достаточно щелкнуть на нем мышью.</p>
<p>Принципы работы с деревом меню не отличаются от приемов работы с другими «древовидными» 
  списками в MS Windows (например, со структурой папок, 
  изображаемой на левой панели программы Проводник). Кратко эти приемы были изложены 
  в главе «Метаданные».</p>
<p><b>Структура меню</b>. На первом уровне дерева находятся меню. Названия меню 
  появляются в главном меню системы 1С:Преднриятие при «проигрывании» настройки. 
  Как правило, названия меню первого уровня обозначают основные функциональные 
  блоки задачи.</p>
<p>На последующих уровнях могут располагаться элементы меню трех типов: <i>команды</i>, 
  <i>подменю</i> и <i>разделители</i>.</p>
<p><i>Команда</i> непосредственно связана с выполнением каких-либо действий.</p>
<p><i>Подменю</i> служит для дополнительной группировки элементов меню. Выбор 
  подменю непосредственного выполнения каких-либо операций не вызывает, а только 
  открывает список, который, в свою очередь, также может состоять из команд, подменю 
  и разделителей.</p>
<p>Названия команд и подменю, которые появляются в меню при его работе, также 
  называют <i>пунктами меню</i>.</p>
<p><i>Разделитель</i> никакой функциональной нагрузки не несет и служит только 
  для визуальной группировки логически связанных пунктов меню. В работающем меню 
  разделитель выглядит как горизонтальная черта между двумя пунктами меню.</p>
<p>Для любого элемента создаваемого меню нажатием правой кнопки мыши можно открыть 
  контекстное меню. Это меню содержит команды для определения свойств или удаления 
  текущего элемента меню, а также команды для запуска Конструктора и проверки 
  созданного меню.</p>
<h2><a name="_Toc469054322"></a><a name="_Toc496454337">Создание меню</a></h2>
<p>Сам процесс создания меню заключается в построении структуры будущего меню 
  и определении свойств входящих в него элементов. Сделать это можно автоматически, 
  используя Конструктор меню, или вручную — отдельно создавая каждый элемент будущего 
  меню и описывая его свойства.</p>
<h3><a name="_Toc469054323"></a><a name="_Toc496454338">Создание меню «вручную»</a></h3>
<p>При создании меню без помощи Конструктора необходимо самостоятельно описать 
  свойства каждого элемента меню.</p>
<p> При создании нового меню окно редактора меню содержит заготовку для создания 
  меню первого уровня — это строка &lt;новая колонка&gt;.</p>
<p>Для создания меню первого уровня необходимо двойным щелчком мыши открыть контекстное 
  меню и выбрать функцию «Свойства». На экран будет выдана палитра свойств для 
  задания свойств элемента меню.</p>
<p>Для меню первого уровня можно указать только название меню — все остальные 
  управляющие элементы палитры свойств будут недоступны. После ввода названия 
  необходимо нажать кнопку «<b>ОК</b>» или «<b>Обновить</b>», тогда сделанные 
  изменения отразятся в окне редактора меню — появится новая колонка первого уровня.</p>
<p> Если в палитре свойств установить флажок «Системная колонка», то название 
  меню первого уровня необходимо будет выбрать из выпадающего списка, содержащего 
  названия 4 системных колонок главного меню системы 1С:Предприятие. После нажатия 
  кнопки «<b>ОК</b>» или «<b>Обновить</b>» выбранное название появится в окне 
  редактор меню, но, в отличие от других колонок первого уровня, будет отмечено 
  значком зеленого цвета. Элементы меню, размещаемые в таких колонках, будут появляться 
  в соответствующих системных колонках главного меню системы 1С:Предприятие, среди 
  системных элементов меню.</p>
<p>В отличие от прочих колонок верхнего уровня, системные колонки могут располагаться 
  в любом месте редактируемого меню — они только обозначают соответствующие колонки 
  главного меню системы 1С:Предприятие.</p>
<p>После создания заголовка меню первого уровня можно перейти к созданию других 
  элементов меню.</p>
<p>Если открыть ветвь структуры, которая начинается у только что созданного заголовка, 
  можно видеть заготовку для создания элементов меню второго уровня — строку &lt;новый...&gt;.</p>
<p>Создание новых элементов меню происходит, когда заготовке задастся название, 
  тин и необходимый набор свойств.</p>
<p>Задание свойств элемента меню производится в палитре свойств «Свойства элемента 
  меню», который можно вызвать из контекстного меню элемента или из меню «Действия» 
  главного меню Конфигуратора.</p>
<h3><a name="_Toc469054324"></a><a name="_Toc496454339">Копирование элементов 
  меню</a></h3>
<p>Новые элементы меню можно создавать путем копирования существующих элементов. 
  Копировать элементы меню можно внутри редактируемого меню, между меню разных 
  интерфейсов, а также между конфигурациями. Для копирования используются возможности 
  Буфера Обмена MS Windows.</p>
<p>Чтобы скопировать элемент меню, необходимо сначала «запомнить» его в Буфере 
  Обмена MS Windows, используя команды «Копировать» или 
  «Вырезать» из меню «Действия» главного меню Конфигуратора. Если используется 
  команда «Вырезать», то выделенный элемент меню будет удален из списка.</p>
<p>Для вставки необходимо использовать команду «Вставить». Название вставляемых 
  элементов меню могут быть преобразованы с целью соблюдения уникальности.</p>
<p>При копировании колонки меню верхнего уровня или подменю буду скопированы и 
  все подчиненные элементы.</p>
<h3><a name="_Ref468926930"></a><a name="_Toc469054325"></a><a
name="_Toc496454340">Свойства элемента меню</a></h3>
<p>Редактирование свойств элемента меню выполняется в палитре свойств «Свойства 
  элемента меню», которую можно вызвать на экран двойным щелчком мыши на редактируемом 
  элементе меню.</p>
<h4>Закладка «Общие»</h4>
<p>В зависимости от типа элемента меню определяется тот набор свойств, которые 
  могут быть ему заданы.</p>
<p>Минимальный набор характеристик задается для элемента типа «Разделитель» — 
  указывается только его тип. Для элемента типа «Подменю» необходимо указать также 
  и название. И, наконец, максимальный набор характеристик — помимо названия и 
  типа элемента меню — следует определить для элемента типа «Команда».</p>
<p>Ниже будет изложено назначение всех управляющих элементов закладки «Общие». 
  В зависимости от типа элемента меню отдельные управляющие элементы этой закладки 
  могут закрываться от использования.</p>
<p><b>Название</b>. В этом поле необходимо указать строку символов, которая будет 
  выдаваться в готовом меню. Как правило, название отражает характер действий, 
  которые будут выполняться при выборе этого элемента меню.</p>
<p><b>Тип</b>. Щелчок мышью в поле «Тип» открывает список, из которого необходимо 
  выбрать тип создаваемого элемента меню.</p>
<p>Тип элемента меню, в общем случае, определяется при создании элемента меню, 
  и в последующем не изменяется, так как смена типа элемента меню приводит к изменению 
  в структуре меню. Однако, если необходимо изменить тип элемента меню, необходимо 
  иметь в виду следующее.</p>
<p>Если тип с более широким набором свойств заменяется на тип с менее широким 
  (например, «Элемент» на «Подменю»), то «лишние» свойства пропадут и восстановить 
  их обратным выбором типа нельзя. В этом случае для восстановления «пропавших» 
  свойств следует отказаться от сделанных изменений, нажав кнопку «Отмена» палитры 
  свойств.</p>
<p><b>Объект</b>. В поле «Объект» необходимо выбрать название объекта метаданных, 
  над которым будут производиться действия при выборе пункта меню. Список доступных 
  объектов зависит от количества существующих в конфигурации к текущему моменту 
  объектов метаданных.</p>
<p><b>Команда</b>. Для каждого объекта метаданных существует набор предопределенных 
  команд, которые можно выполнить над этим объектом. Для выбора конкретной команды 
  необходимо открыть список таких команд, нажав кнопку <img border=0 width=16 height=14
src="img/_c3_eb_e0_e2_e0_2021_image002.gif" v:shapes="_x0000_i1025"> в поле «Команда», 
  и выбрать из него необходимую команду. Именно эта команда будет выполнятся при 
  выборе редактируемого пункта меню.</p>
<p><b>Подсказка</b>. В поле «Подсказка» можно ввести текст, который будет выдаваться 
  в строке состояния главного окна программы при указании мышью на текущий пункт 
  меню. Как правило, строка должна содержать краткое описание действий, которые 
  будут выполнены после выбора этого пункта меню.</p>
<h4>Закладка «Параметры»</h4>
<p>Состав управляющих 
  элементов закладки «Параметры» зависит от значений, указанных в закладке «Общие».</p>
<p><b>Использовать форму</b>. Если в ноле «Объект» закладки «Общие» выбран справочник 
  или журнал документов, закладка «Параметры» будет содержать ноле для выбора 
  формы выдачи справочника или журнала на экран. Список возможных форм представления 
  справочников или журналов разрабатывается в процессе создания структуры метаданных.</p>
<p><b>Открывать форму модально</b>. Если этот флажок установлен, выбранная форма 
  объекта метаданных будет открываться в модальном режиме. В этом режиме пользователь 
  не имеет возможности перейти в другое окно программы или закончить работу с 
  программой, пока не закончена работа с диалогом, открытым в этом режиме.</p>
<p><b>Формула</b>. Если в закладке «Общие» в поле «Объект» выбран объект «Задача», 
  а в поле «Команда» — команда «Задача.Выполнить», закладка «Параметры» будет 
  содержать поле ввода, в которое можно ввести имя процедуры или функции на встроенном 
  языке системы 1С:Предприятие. Эта процедура будет выполняться при выборе пункта 
  меню.</p>
<p>В поле ввода можно ввести несколько имен процедур или функций, разделяя их 
  символами «;», тогда они будут выполняться последовательно.</p>
<p><b>Введите имя файла</b>. Если в закладке «Общие» в поле «Объект» выбран объект 
  «Отчеты», а в ноле «Команда» — команда «Отчеты.ОткрытьВнешний», закладка «Параметры» 
  будет содержать поле ввода, в которое можно ввести имя файла внешнего отчета. 
  Эта внешний отчет будет открываться при выборе пункта меню.</p>
<h4>Закладка «Акселератор» («горячие клавиши»)</h4>
<p>Управляющие элементы закладки «Акселератор» служат для постановки в соответствие 
  редактируемому элементу меню комбинации «горячих клавиш». Заданная комбинация 
  клавиш может использоваться для быстрого выполнения нужной команды меню.</p>
<p>Задать акселератор можно двумя способами.</p>
<p>Можно ввести наименование клавиши в поле ввода или выбрать наименование из 
  связанного с этим нолем списка клавиш. Переключатели «Ctrl», «Shift» и «Alt» 
  позволяют задавать комбинации с использованием этих служебных клавиш.</p>
<p> Удобнее задать акселератор, просто нажав нужную комбинацию клавиш на клавиатуре. 
  Для этого необходимо выполнить следующие действия:</p>
<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  нажмите кнопку «Выбрать акселератор»;</p>
<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  после появления сообщения нажмите нужную комбинацию клавиш.</p>
<p>Выбранная комбинация клавиш будет записана в закладке «Акселератор». Можно 
  отказаться от выбора акселератора, нажав мышью кнопку «Отмена».</p>
<p>Для удаления акселератора следует удалить наименование клавиш в поле закладки 
  «Акселератор».</p>
<h3><a name="_Toc469054326"></a><a name="_Toc496454341">Удаление элемента меню</a></h3>
<p>Чтобы удалить элемент меню, необходимо выделить его название клавишами или 
  мышью и нажать клавишу Del. Если удаляется подменю, 
  то будут удалены также и все его элементы, включая вложенные подменю.</p>
<h3><a name="_Toc469054327"></a><a name="_Toc496454342">Создание меню с помощью 
  Конструктора меню</a></h3>
<p>Конструктор позволяет быстро построить меню, содержащее необходимый набор команд. 
  Многие элементы при этом будут предложены по умолчанию. В дальнейшем созданное 
  Конструктором меню можно отредактировать.</p>
<p>Конструктор меню вызывается из редактора меню. Для вызова Конструктора меню 
  необходимо в меню «Действия» главного меню Конфигуратора выбрать пункт «Конструктор».</p>
<p>Так как меню, созданное Конструктором, полностью заменяет уже существующее 
  меню, на экран будет выдано предупреждение об этом. Можно отказаться от использования 
  Конструктора, нажав кнопку «<b>Отмена</b>». Если нажата кнопка «<b>ОК</b>», 
  на экран будет выдано окно Конструктора меню.</p>
<p>Окно Конструктора состоит из двух панелей. В левой панели выдан список основных 
  видов объектов метаданных, с которыми может производиться работа в системе 1С:Предприятие. 
  Объекты метаданных, редко выносимые в меню, объединены в группу «Разные».</p>
<p>Слева от имен видов объектов метаданных в квадратных рамках могут стоять отметки 
  <img border=0 width=7 height=7
src="img/_c3_eb_e0_e2_e0_2021_image004.gif" v:shapes="_x0000_i1026">. Эти отметки 
  обозначают наименования видов объектов метаданных, которые будут представлены 
  Конструктором меню как имена меню первого уровня.</p>
<p>В правой панели Конструктора меню для выбранного вида объектов метаданных выдается 
  полный список предопределенных команд для манипуляции объектами метаданных этого 
  вида.</p>
<p>Процесс создания меню при помощи Конструктора заключается в том, что, расставляя 
  отметки у нужных команд, необходимо определить набор команд, которые будут автоматически 
  помещены в меню.</p>
<p>Расстановка отметок <img border=0 width=7 height=7
src="img/_c3_eb_e0_e2_e0_2021_image005.gif" v:shapes="_x0000_i1027"> выполняется 
  следующим образом.</p>
<p>Отметка <img border=0 width=7 height=7
src="img/_c3_eb_e0_e2_e0_2021_image006.gif" v:shapes="_x0000_i1028"> у наименования 
  вида объектов метаданных в левом окне выполняет роль трехпозиционного переключателя. 
  Щелкая на ней мышью, можно выбрать одно из трех состояний этой отметки.</p>
<p> Если отметка <img border=0 width=7 height=7
src="img/_c3_eb_e0_e2_e0_2021_image007.gif" v:shapes="_x0000_i1029"> — серого 
  цвета, то список команд в правом окне доступен для расстановки отметок у команд. 
  Щелчком мыши можно снять отметку и исключить команду из меню, и наоборот, поставив 
  отметку, включить ее.</p>
<p>Если отметка <img border=0 width=7 height=7
src="img/_c3_eb_e0_e2_e0_2021_image008.gif" v:shapes="_x0000_i1030"> — черного 
  цвета, то в правом окне у всех команд будут автоматически проставлены отметки 
  <img border=0 width=7 height=7
src="img/_c3_eb_e0_e2_e0_2021_image009.gif" v:shapes="_x0000_i1031">, а список 
  команд будет недоступен для расстановки отметок у конкретных команд.</p>
<p>Если отметка <img border=0 width=7 height=7
src="img/_c3_eb_e0_e2_e0_2021_image010.gif" v:shapes="_x0000_i1032"> у наименования 
  вида объектов метаданных отсутствует, то в правом окне у всех команд отметки 
  <img border=0 width=7 height=7
src="img/_c3_eb_e0_e2_e0_2021_image011.gif" v:shapes="_x0000_i1033"> будут автоматически 
  сняты, а список команд будет недоступен для расстановки отметок у конкретных 
  команд.</p>
<p>Для сохранения результатов работы Конструктора меню служит кнопка «<b>Построить</b>». 
  При ее нажатии окно Конструктора меню закрывается, а описанная в Конструкторе 
  структура меню будет в виде дерева представлена в окне редактора меню.</p>
<p>Для отказа от создания меню при помощи Конструктора нажмите кнопку «<b>Отмена</b>». 
  Структура меню, которая была создана в редакторе меню до вызова Конструктора, 
  останется без изменений.</p>
<h2><a name="_Toc469054328"></a><a name="_Toc496454343">Изменение структуры меню</a></h2>
<p>Помимо простого удаления и добавления элементов меню, редактор меню позволяет 
  изменить саму структуру меню, например, перенести команды из одного меню в другое, 
  расставить их в другом порядке, «собрать» несколько отдельных команд в подменю 
  и выполнить другие подобные действия, связанные с перемещениями элементов меню 
  между ветвями дерева.</p>
<p>Все подобные действия удобно выполнять в редакторе меню мышью, используя механизм 
  «drag&amp;drop» («перенеси и оставь»): вы просто перетаскиваете мышью 
  элемент меню в нужное место и оставляете его там.</p>
<p>Элемент меню, над которым будет помещен переносимый элемент после отпускания 
  кнопки мыши, при переносе будет выделяться инверсным цветом.</p>
<p>Не все операции по изменению структуры меню могут быть выполнены подобным образом. 
  Например, нельзя превратить команду в меню первого уровня. В таких случаях — 
  когда элемент не может быть перемещен в выбранное место — курсор мыши принимает 
  форму <img border=0 width=12 height=13
src="img/_c3_eb_e0_e2_e0_2021_image013.gif" v:shapes="_x0000_i1034">, и, если 
  отпустить левую клавишу мыши, то никаких изменений не произойдет.</p>
<h2><a name="_Toc469054329"></a><a name="_Toc496454344">Проверка созданного меню</a></h2>
<p>Режим проверки позволяет увидеть созданное меню «в работе» — так, как оно будет 
  выглядеть при использовании. Запустить режим проверки можно, выбрав в меню «Действия» 
  главного меню Конфигуратора пункт «Тест». На экран будет выдано тестовое окно, 
  которое представляет собой имитацию главного окна системы 1С:Предприятие.</p>
<p>Главное меню тестового окна построено на основе структуры меню, описанной в 
  редакторе меню.</p>
<p>Для выхода из режима проверки созданного меню закройте тестовое окно.</p>

</body>
</html>

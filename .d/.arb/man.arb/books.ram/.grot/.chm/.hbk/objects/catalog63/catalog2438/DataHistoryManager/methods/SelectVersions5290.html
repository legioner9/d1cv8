<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="ru"></head><body><h1 class="V8SH_pagetitle">МенеджерИсторииДанных.ВыбратьВерсии (DataHistoryManager.SelectVersions)</h1><p class="V8SH_title">МенеджерИсторииДанных (DataHistoryManager)</p><p class="V8SH_heading">ВыбратьВерсии (SelectVersions)</p><div class="__SINCE_SHOW_STYLE__"><p class="not_used">Доступен, начиная с версии 8.3.10.</p></div><p class="V8SH_chapter">Синтаксис:</p>ВыбратьВерсии(&lt;Отбор&gt;, &lt;Колонки&gt;, &lt;Порядок&gt;, &lt;МаксимальноеКоличество&gt;)<p class="V8SH_chapter">Параметры:</p><div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;Отбор&gt; (обязательный)</div>Тип: <a href="v8help://SyntaxHelperContext/objects/catalog234/Structure.html">Структура</a>. <br>Структура, содержащая условия отбора версий. В качестве пары "Ключ" - "Значение" используются:<ul><li>Метаданные (Metadata) - значение типа <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1542.html">ОбъектМетаданных: Справочник</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1510.html">ОбъектМетаданных: Документ</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1539.html">ОбъектМетаданных: РегистрСведений</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1509.html">ОбъектМетаданных: БизнесПроцесс</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1513.html">ОбъектМетаданных: Задача</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1532.html">ОбъектМетаданных: ПланСчетов</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1530.html">ОбъектМетаданных: ПланВидовХарактеристик</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1531.html">ОбъектМетаданных: ПланОбмена</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1529.html">ОбъектМетаданных: ПланВидовРасчета</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog272/catalog1506/object1515.html">ОбъектМетаданных: Константа</a>.</li><li>Используется для отбора версий по объекту метаданных. Если для объекта метаданных настроены ограничения прав доступа на уровне записей (RLS) или не установлено право "ЧтениеИсторииОтсутствующихДанных", то выполняется чтение данных. Если данные отсутствуют, то версия исключается из выборки.</li><li>Данные (Data) - значение типа <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog126/object129.html">СправочникСсылка.<Имя справочника></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog143/object147.html">ДокументСсылка.<Имя документа></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog161/object362.html">РегистрСведенийКлючЗаписи.<Имя регистра сведений></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog702/object706.html">БизнесПроцессСсылка.<Имя бизнес-процесса></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog719/object723.html">ЗадачаСсылка.<Имя задачи></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog445/object456.html">ПланСчетовСсылка.<Имя плана счетов></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog433/object444.html">ПланВидовХарактеристикСсылка.<Имя плана видов характеристик></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog676/object680.html">ПланОбменаСсылка.<Имя плана обмена></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog474/object478.html">ПланВидовРасчетаСсылка.<Имя плана видов расчета></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog136/object2619.html">КонстантаКлючЗначения.<Имя константы></a>. Используется для отбора версий конкретного объекта данных или записи регистра сведений. Если для объекта метаданных настроено ограничение прав доступа на уровне записей (RLS) или нет права "ЧтениеИсторииОтсутствующихДанных", то выполняется чтение данных. Если данные отсутствуют, генерируется исключение.</li><li>ПредставлениеДанных (DataPresentation) - значение типа <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. Для поиска по вхождению переданного значения в представлении объекта.</li><li>НомерВерсии (VersionNumber) - значение типа <a href="v8help://SyntaxHelperLanguage/def_Number">Число</a>. Для отбора по номеру версии.</li><li>ДатаНачала (StartDate) - значение типа <a href="v8help://SyntaxHelperLanguage/def_Date">Дата</a>. Отбор версий с датой создания, большей или равной указанной дате.</li><li>ДатаОкончания (EndDate) - значение типа <a href="v8help://SyntaxHelperLanguage/def_Date">Дата</a>. Отбор версий с датой создания, меньшей или равной указанной дате.</li><li>Пользователь (User) - значение типа <a href="v8help://SyntaxHelperContext/objects/catalog63/UUID.html">УникальныйИдентификатор</a> или массив таких объектов. Отбор версий по идентификатору пользователя, создавшего версию. Условия, созданные по значениям, переданным в массиве, объединяются по ИЛИ.</li><li>ИмяПользователя (UserName) - значение типа <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a> или массив таких объектов. Отбор версий по имени пользователя, создавшего версию, проверка на вхождение. Имена должны соответствовать именам, возвращаемым методом глобального контекста <a href="v8help://SyntaxHelperContext/objects/Global context/methods/catalog33/UserName37.html">ИмяПользователя</a> (UserName). Условия, созданные по значениям, переданным в массиве, объединяются по ИЛИ.</li><li>ПолноеИмяПользователя (UserFullName) - значение типа <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a> или массив таких объектов. Отбор версий по имени пользователя, создавшего версию, проверка на вхождение. Имена должны соответствовать именам, возвращаемым методом <a href="v8help://SyntaxHelperContext/objects/Global context/methods/catalog33/UserFullName38.html">ПолноеИмяПользователя</a>. Условия, созданные по значениям, переданным в массиве, объединяются по ИЛИ.</li><li>ВидИзмененияДанных (DataChangeType) - значение из перечисления <a href="v8help://SyntaxHelperContext/objects/catalog2/catalog277/DataChangeType.html">ВидИзмененияДанных</a> или массив <a href="v8help://SyntaxHelperContext/objects/catalog2/catalog277/DataChangeType.html">ВидИзмененияДанных</a>. Отбор по виду изменения.</li><li>Комментарий (Comment) - значение типа <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. Отбор по комментарию, проверяется вхождение строки.</li><li>Транзакция(Transaction) - значение типа <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. Отбор по транзакции, проверка на равенство.</li><li>Узел (Node) - <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog676/object680.html">ПланОбменаСсылка.<Имя плана обмена></a>. Отбор по узлу плана обмена.</li><li>ЗначенияПолей (FieldValues) - значение типа <a href="v8help://SyntaxHelperContext/objects/catalog234/Array.html">Массив</a>. Отбор по значению поля. Массив содержит элементы типа <a href="v8help://SyntaxHelperContext/objects/catalog234/Structure.html">Структура</a>, описывающие условия, накладываемые на данные версии. Отбираются версии, которые удовлетворяют всем условиям списка (условия объединяются по И):<ul><li>Поле (Field) - значение типа <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. Обязательный. Предназначен для поиска версий, содержащих указанное поле. Если указана табличная часть, то выполняется поиск по всем дочерним полям.</li><li>ЗначениеПослеИзменения (ValueAfterChange) - значение типа Произвольный. Выполняется поиск версий с данными, содержащими указанный объект метаданных, и значением, равным переданному значению. Отбираются все версии, в которых значение установлено. ЗначениеПослеИзменения должно быть заполнено, если не заполнено ЗначениеДоИзменения.</li><li>ЗначениеДоИзменения (ValueBeforeChange) - значение типа Произвольный. Выполняется поиск версий с данными, содержащими указанный объект метаданных, и предыдущим значением, равным переданному значению. Отбираются все версии, в которых в предыдущей версии установлено значение, а не только версия, в которой изменено значение. ЗначениеДоИзменения должно быть заполнено, если не заполнено ЗначениеПослеИзменения.</li></ul></li><li>ИзменениеЗначенийПолей (FieldValuesChange) - значение типа <a href="v8help://SyntaxHelperContext/objects/catalog234/Array.html">Массив</a>. Отбор по факту изменения значения поля версии. Массив содержит строки с именем поля. Строка содержит имя объекта метаданных, например, если необходимо выполнить отбор по реквизиту "Цена" объекта "Заказ", указывается "Цена", если по реквизиту "Цена" табличной части "ПозицииЗаказа", то указывается "ПозицииЗаказа.Цена". Позволяет выполнить поиск по удаленному объекту метаданных, или полученному по обмену. Версия, полученная по обмену, может содержать объекты метаданных, которых нет в конфигурации текущей информационной базы, поэтому такие реквизиты можно выбрать только по полному имени. Если по строке не найден объект метаданных, условие игнорируется.</li></ul>Обязательно необходимо указать значения "Метаданные" или "Данные". Остальные значения - не обязательные. Если заполнены оба поля ("Метаданные" и "Данные"), то объект метаданных объекта, переданного в параметре "Данные", должен совпадать с объектом метаданных, переданного в параметре "Метаданные".<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;Колонки&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperContext/objects/catalog234/Array.html">Массив</a>, <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>, <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a>. <br>Массив имен колонок или строка, содержащая имена колонок, по которым производится выбор версий. В строке имена колонок должны быть разделены запятыми. Доступны колонки:<ul><li>Данные,</li><li>ПредставлениеДанных,</li><li>НомерВерсии,</li><li>Дата,</li><li>Пользователь,</li><li>ИмяПользователя,</li><li>ПолноеИмяПользователя,</li><li>ВидИзмененияДанных,</li><li>Комментарий,</li><li>Транзакция,</li><li>Узел.</li></ul>Если <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a> - в результате таблица будет содержать все колонки.<br>Значение по умолчанию: <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a>.<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;Порядок&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperContext/objects/catalog234/Array.html">Массив</a>, <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>, <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a>. <br>Строка или массив, содержащий имена колонок, по которым требуется сортировать выбранные элементы. После каждого имени колонки через пробел может быть указано направление сортировки. Направление определяется: "Убыв" ("Desc") - упорядочивать по убыванию; "Возр" ("Asc") - упорядочивать по возрастанию. По умолчанию сортировка производится по возрастанию.<br>Если задано значение <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a> используются следующие настройки порядка:<ul><li>При отборе по "Метаданные" - "Дата Убыв", "НомерВерсии Убыв",</li><li>При отборе по "Данные" - "НомерВерсии Убыв". </li></ul><br>Значение по умолчанию: <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a>.<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;МаксимальноеКоличество&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a>, <a href="v8help://SyntaxHelperLanguage/def_Number">Число</a>. <br>Максимальное количество получаемых версий.<br>Если указано число, метод получает в указанном порядке версии с учетом установленного отбора в количестве, не превышающем значения параметра. <br><a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a> - получаются все версии.<br>Значение по умолчанию: <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a>.<p class="V8SH_chapter">Возвращаемое значение:</p>Тип: <a href="v8help://SyntaxHelperContext/objects/catalog234/catalog236/ValueTable.html">ТаблицаЗначений</a>. <br>Возвращает таблицу значений, в которую будут выбраны записи истории данных в соответствии с отбором.<br>Таблица значений содержит следующие колонки:<ul><li>Данные (Data) - тип <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog126/object129.html">СправочникСсылка.<Имя справочника></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog143/object147.html">ДокументСсылка.<Имя документа></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog161/object362.html">РегистрСведенийКлючЗаписи.<Имя регистра сведений></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog702/object706.html">БизнесПроцессСсылка.<Имя бизнес-процесса></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog719/object723.html">ЗадачаСсылка.<Имя задачи></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog445/object456.html">ПланСчетовСсылка.<Имя плана счетов></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog433/object444.html">ПланВидовХарактеристикСсылка.<Имя плана видов характеристик></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog676/object680.html">ПланОбменаСсылка.<Имя плана обмена></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog474/object478.html">ПланВидовРасчетаСсылка.<Имя плана видов расчета></a>, <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog136/object2619.html">КонстантаКлючЗначения.<Имя константы></a>. Ссылка на объект, по которому выполняется поиск записей истории;</li><li>ПредставлениеДанных	 (DataPresentation) - тип <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. Представление данных, ссылки на объект или ключа записи регистра сведений;</li><li>НомерВерсии (VersionNumber) - тип <a href="v8help://SyntaxHelperLanguage/def_Number">Число</a>. Номер версии объекта;</li><li>Дата (Date) - тип <a href="v8help://SyntaxHelperLanguage/def_Date">Дата</a>. Дата создания версии;</li><li>Пользователь (User) - тип <a href="v8help://SyntaxHelperContext/objects/catalog63/UUID.html">УникальныйИдентификатор</a>. Идентификатор пользователя, создавшего запись истории данных;</li><li>ИмяПользователя (UserName) - тип <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. Имя пользователя, создавшего запись истории данных;</li><li>ПолноеИмяПользователя (UserFullName) - тип <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. Полное имя пользователя, создавшего запись истории данных;</li><li>ВидИзмененияДанных (DataChangeType) - тип <a href="v8help://SyntaxHelperContext/objects/catalog2/catalog277/DataChangeType.html">ВидИзмененияДанных</a>. Вид изменения объекта, которое привело к созданию записи истории данных;</li><li>Комментарий (Comment) - тип <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. Комментарий к записи истории;</li><li>Транзакция (Transaction) - тип <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. Идентификатор транзакции, в рамках которой создана запись истории;</li><li>Узел (Node) - тип <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog676/object680.html">ПланОбменаСсылка.<Имя плана обмена></a>. Ссылка на узел плана обмена, из которого получено изменение объекта.</li></ul><p class="V8SH_chapter">Описание:</p><p>Выполняет поиск версий истории данных в соответствии с отбором.</p><p class="V8SH_chapter">Доступность: </p><p>Сервер, толстый клиент, внешнее соединение.<br>Вызов метода выполняет обращение к серверу.<br></p><p class="V8SH_chapter">Пример:</p><TABLE width="100%" bgColor="#f7f7f7"><TBODY><TR><TD><font face="Courier New"> <font color="#0000ff"><font color="#008000">//&nbsp;Получение&nbsp;версий.<BR></font><BR><BR>Отбор&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>Структура<font color="#ff0000">;</font><BR>Отбор<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"Данные"</font><font color="#ff0000">,</font>&nbsp;Справочники<font color="#ff0000">.</font>Валюты<font color="#ff0000">.</font>НайтиПоНаименованию<font color="#ff0000">(</font><font color="#000000">"Рубль"</font><font color="#ff0000">)</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR>Версии&nbsp;<font color="#ff0000">=</font>&nbsp;ИсторияДанных<font color="#ff0000">.</font>ВыбратьВерсии<font color="#ff0000">(</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;Отбор<font color="#ff0000">,</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"НомерВерсии,&nbsp;Дата,&nbsp;ТипИзменения,&nbsp;ИмяПользователя,&nbsp;Комментарий"</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR><BR><font color="#008000">//&nbsp;Получение&nbsp;версий&nbsp;с&nbsp;отбором&nbsp;по&nbsp;комментарию.<BR></font><BR><BR>Отбор&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>Структура<font color="#ff0000">;</font><BR>Отбор<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"Данные"</font><font color="#ff0000">,</font>&nbsp;Документы<font color="#ff0000">.</font>Заказ<font color="#ff0000">.</font>НайтиПоНомеру<font color="#ff0000">(</font><font color="#000000">"0000001"</font><font color="#ff0000">)</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR>Отбор<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><font color="#000000">"Комментарий"</font><font color="#ff0000">,</font>&nbsp;<font color="#000000">"Отказ"</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR>Версии&nbsp;<font color="#ff0000">=</font>&nbsp;ИсторияДанных<font color="#ff0000">.</font>ВыбратьВерсии<font color="#ff0000">(</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;Отбор<font color="#ff0000">,</font>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"НомерВерсии,&nbsp;Дата,&nbsp;ТипИзменения,&nbsp;ИмяПользователя,&nbsp;Комментарий"</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR><BR><font color="#008000">//&nbsp;Получение&nbsp;версий<BR></font><BR><font color="#008000">//&nbsp;с&nbsp;отбором&nbsp;по&nbsp;изменению&nbsp;значения&nbsp;реквизита.<BR></font><BR><BR>Отбор&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>Структура<font color="#ff0000">;</font><BR>Отбор<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"Данные"</font><font color="#ff0000">,</font>&nbsp;Документы<font color="#ff0000">.</font>Заказ<font color="#ff0000">.</font>НайтиПоНомеру<font color="#ff0000">(</font><font color="#000000">"0000001"</font><font color="#ff0000">)</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR>ИзменениеЗначенийПолей&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>Массив<font color="#ff0000">;</font><BR>ИзменениеЗначенийПолей<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><font color="#000000">"ПозицииЗаказа.Количество"</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR>Отбор<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><font color="#000000">"ИзменениеЗначенийПолей"</font><font color="#ff0000">,</font>&nbsp;ИзменениеЗначенийПолей<font color="#ff0000">)</font><font color="#ff0000">;</font><BR>Версии&nbsp;<font color="#ff0000">=</font>&nbsp;ИсторияДанных<font color="#ff0000">.</font>ВыбратьВерсии<font color="#ff0000">(</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;Отбор<font color="#ff0000">,</font>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"НомерВерсии,&nbsp;Дата,&nbsp;ТипИзменения,&nbsp;ИмяПользователя,&nbsp;Комментарий"</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR><BR><font color="#008000">//&nbsp;Получение&nbsp;версий&nbsp;с&nbsp;отбором&nbsp;по&nbsp;изменению<BR></font><BR><font color="#008000">//&nbsp;значения&nbsp;реквизита.<BR></font><BR><BR>Отбор&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>Структура<font color="#ff0000">;</font><BR>Отбор<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><font color="#000000">"Данные"</font><font color="#ff0000">,</font>&nbsp;Документы<font color="#ff0000">.</font>Заказ<font color="#ff0000">.</font>НайтиПоНомеру<font color="#ff0000">(</font><font color="#000000">"0000001"</font><font color="#ff0000">)</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR><BR>Количество1&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>Структура<font color="#ff0000">;</font><BR>Количество1<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><font color="#000000">"Поле"</font><font color="#ff0000">,</font>&nbsp;<font color="#000000">"ПозицииЗаказа.Количество"</font><font color="#ff0000">)</font><BR>Количество1<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><font color="#000000">"ЗначениеПослеИзменения"</font><font color="#ff0000">,</font><font color="#000000">&nbsp;1</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR><BR>ЗначенияПолей&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>Массив<font color="#ff0000">;</font><BR>ЗначенияПолей<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font>Количество1<font color="#ff0000">)</font><font color="#ff0000">;</font><BR>Отбор<font color="#ff0000">.</font>Добавить<font color="#ff0000">(</font><font color="#000000">"ЗначенияПолей"</font><font color="#ff0000">,</font>&nbsp;ЗначенияПолей<font color="#ff0000">)</font><font color="#ff0000">;</font><BR><BR>Версии&nbsp;<font color="#ff0000">=</font>&nbsp;ИсторияДанных<font color="#ff0000">.</font>ВыбратьВерсии<font color="#ff0000">(</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;Отбор<font color="#ff0000">,</font>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"НомерВерсии,&nbsp;Дата,&nbsp;ТипИзменения,&nbsp;ИмяПользователя,&nbsp;Комментарий"</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR><BR><font color="#008000">//&nbsp;Получение&nbsp;версий&nbsp;с&nbsp;изменением&nbsp;порядка&nbsp;версий.<BR></font><BR><font color="#008000">//&nbsp;"Версии"&nbsp;содержит&nbsp;список&nbsp;всех&nbsp;версий&nbsp;объекта,&nbsp;<BR></font><BR><font color="#008000">//&nbsp;упорядоченный&nbsp;по&nbsp;возрастанию&nbsp;Дата.<BR></font><BR><BR>Отбор&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>Структура<font color="#ff0000">;</font><BR>Отбор<font color="#ff0000">.</font>Вставить<font color="#ff0000">(</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"Данные"</font><font color="#ff0000">,</font>&nbsp;Справочники<font color="#ff0000">.</font>Валюты<font color="#ff0000">.</font>НайтиПоНаименованию<font color="#ff0000">(</font><font color="#000000">"Рубль"</font><font color="#ff0000">)</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR>Версии&nbsp;<font color="#ff0000">=</font>&nbsp;ИсторияДанных<font color="#ff0000">.</font>ВыбратьВерсии<font color="#ff0000">(</font>Отбор<font color="#ff0000">,</font>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"НомерВерсии,&nbsp;Дата,&nbsp;ТипИзменения,&nbsp;ИмяПользователя,&nbsp;Комментарий"</font><font color="#ff0000">,</font>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"Дата"</font><font color="#ff0000">)</font><font color="#ff0000">;</font></font><BR></font></font></TD></TR></TBODY></TABLE><p class="V8SH_chapter">Использование в версии:</p><p class="V8SH_versionInfo">Доступен, начиная с версии 8.3.10.</p><HR><p>&nbsp;&nbsp;&nbsp;&nbsp; <a href=http://www.1centerprise.com/devlinks?C="id=00058O02439M05290;lan=ru" target="_blank">Методическая информация</a></p></body></html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="ru"></head><body><h1 class="V8SH_pagetitle">Глобальный контекст.УдалитьДанныеИнформационнойБазы (Global context.EraseInfoBaseData)</h1><p class="V8SH_title">Глобальный контекст (Global context)</p><p class="V8SH_heading">УдалитьДанныеИнформационнойБазы (EraseInfoBaseData)</p><div class="__SINCE_SHOW_STYLE__"><p class="not_used">Доступен, начиная с версии 8.3.1.</p></div><p class="V8SH_chapter">Синтаксис:</p>УдалитьДанныеИнформационнойБазы()<p class="V8SH_chapter">Описание:</p><p>Выполняет удаление данных информационной базы:<ul><li>Из таблиц, определяемых структурой метаданных;</li><li>Из хранилищ настроек;</li><li>Из истории;</li><li>Из истории изменения данных;</li><li>Из списка пользователей;</li><li>Административных параметров информационной базы;</li><li>Данные регистрации информационной базы на сервере системы взаимодействия.</li></ul></p><p class="V8SH_chapter">Доступность: </p><p>Сервер, толстый клиент, внешнее соединение, мобильное приложение (сервер), мобильный автономный сервер.</p><p class="V8SH_chapter">Примечание:</p>Разделители, у которых ссылки на параметры сеанса и на константу условного разделения совпадают (совпадают одновременно все три ссылки), обрабатываются совместно. Если конфигурация разделена, например, общими реквизитами Разделитель1 и Разделитель2, у которых описанные выше ссылки совпадают, то при установке в сеансе обоих этих разделителей и разделении объекта метаданных только разделителем Разделитель1 данные по текущей области для такого объекта метаданных будут удалены. Если у Разделитель1 и Разделитель2 хотя бы одна пара описанных выше ссылок не совпадает, то данные объекта не будут изменены.<br><br>Если в информационной базе не определены разделители, будут удалены данные всей базы.<br>Если в информационной базе определены разделители, но в сеансе ни один разделителей не задан, будут удалены данные всей информационной базы.<br>Если метод вызван из сеанса, в котором используется хотя бы один разделитель, то данные удаляются только для области данных, определяемой заданными значениями разделителей:<ul><li>Для таблиц, определяемых структурой метаданных:<ul><li>Если в сеансе используется хотя бы один разделитель, не разделяющий объект метаданных, то данные таблицы остаются без изменений. Например, если в сеансе используются Разделитель1="111",Разделитель2="222", а объект метаданных входит в состав разделителей Разделитель2 и Разделитель3, то удаление не выполняется (поскольку Разделитель1 не разделяет метаданные).</li><li>Если все разделители, используемые в сеансе, разделяют объект метаданных, то из таблиц объекта метаданных удаляются все записи со значениями разделителей, используемых в сеансе. При этом удаление выполняется, даже если у объекта метаданных есть один или более не заданных в сеансе разделителей. Например, если в сеансе задан Разделитель1="111", а в объект метаданных разделен разделителями Разделитель1 и Разделитель2, то происходит удаление всех данных из таблиц объекта метаданных, у которых Разделитель1="111" (хотя при этом Разделитель2 и не задан в сеансе).</li></ul></li><li>Для хранилищ настроек, истории:<ul><li>Каждая версия в истории и настройках хранит использование и значение разделителей.</li><li>Удаление происходит по правилам, аналогичным правилам для таблиц метаданных.</li></ul></li><li>Для списка пользователей удаление производится только если для всех разделителей, используемых в сеансе, определено свойство "Разделение пользователей", </li><li>Для административных параметров информационной базы (напр., дата и время) удаление выполняется только если административные параметры разделяются.</li></ul>Для истории изменения данных:<ul><li>Если в информационной базе определены разделители, но в сеансе ни один разделителей не задан, то удаляются:<ul><li>все данные истории данных,</li><li>все метаданные, добавленные в режиме 1С:Предприятие,</li><li>все настройки истории данных.</li></ul></li><li>Если метод вызван из сеанса, в котором используются независимые и совместные разделители:<ul><li>удаляется история данных для объектов, разделенных всеми разделителями, установленными в сеансе,</li><li>настройки использования истории данных и история метаданных сохраняются.</li></ul></li><li>Если метод вызван из сеанса, в котором используются только независимые разделители:<ul><li>удаляются данные истории данных для текущей области, а также для всех областей, образованных текущей комбинацией разделителей и совместных разделителей,</li><li>удаляются настройки использования истории данных для текущей комбинации разделителей,</li><li>удаляется история метаданных для текущей комбинации разделителей.</li></ul></li></ul>Для того, чтобы не записывать данные удаленной области (например, сохранение настроек отображения форм), сразу после вызова метода рекомендуется изменить значения параметров сеанса, определяющих разделение данных.<br>Удаление данных доступно пользователю с правом "Администрирование".<br>Удаление возможно, если установлен режим монопольного доступа к базе данных или области (вызван метод <a href="v8help://SyntaxHelperContext/objects/Global context/methods/catalog8/SetExclusiveMode784.html">УстановитьМонопольныйРежим</a>), иначе будет выдано исключение.<p class="V8SH_chapter">Использование в версии:</p><p class="V8SH_versionInfo">Доступен, начиная с версии 8.3.1.</p><p class="V8SH_versionInfo">Описание изменено в версии 8.3.21.</p><HR><p>&nbsp;&nbsp;&nbsp;&nbsp; <a href=http://www.1centerprise.com/devlinks?C="id=00058O00053M04192;lan=ru" target="_blank">Методическая информация</a></p></body></html>
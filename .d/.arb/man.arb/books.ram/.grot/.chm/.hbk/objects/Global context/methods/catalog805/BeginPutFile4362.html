<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="ru"></head><body><h1 class="V8SH_pagetitle">Глобальный контекст.НачатьПомещениеФайла (Global context.BeginPutFile)</h1><p class="V8SH_title">Глобальный контекст (Global context)</p><p class="V8SH_heading">НачатьПомещениеФайла (BeginPutFile)</p><div class="__DEPRECATED_SHOW_STYLE__"><p class="not_used">Не рекомендуется использовать, начиная с версии 8.3.15.</p><p class="__DEPRECATED_SHOW_STYLE__">Рекомендуется использовать:</p><ul class="__DEPRECATED_SHOW_STYLE__"><li><a href="v8help://SyntaxHelperContext/objects/Global context/methods/catalog805/BeginPutFileToServer5705.html">НачатьПомещениеФайлаНаСервер</a></li></ul></div><div class="__SINCE_SHOW_STYLE__"><p class="not_used">Доступен, начиная с версии 8.3.13.</p></div><p class="V8SH_chapter">Синтаксис:</p>НачатьПомещениеФайла(&lt;ОписаниеОповещенияОЗавершении&gt;, &lt;Адрес&gt;, &lt;ПомещаемыйФайл&gt;, &lt;Интерактивно&gt;, &lt;УникальныйИдентификаторФормы&gt;, &lt;ОписаниеОповещенияПередНачаломПомещенияФайла&gt;)<p class="V8SH_chapter">Параметры:</p><div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;ОписаниеОповещенияОЗавершении&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperContext/objects/catalog1649/catalog1890/CallbackDescription.html">ОписаниеОповещения</a>. <br>Содержит описание процедуры, которая будет вызвана после завершения помещения файла со следующими параметрами:<ul><li>&lt;Результат&gt; - <a href="v8help://SyntaxHelperLanguage/def_BooleanFalse">Ложь</a> - в параметре &lt;Интерактивно&gt; установлен интерактивный режим (<a href="v8help://SyntaxHelperLanguage/def_BooleanTrue">Истина</a>) и пользователь отказался от выполнения операции в диалоге выбора файла,</li><li>&lt;Адрес&gt; - расположение нового файла,</li><li>&lt;ПомещаемыйФайл&gt; - Через этот параметр возвращается путь к файлу, указанный в диалоге выбора файла. Для неинтерактивного режима выбранное имя файла соответствует начальному имени файла. В веб-клиенте значение параметра зависит от типа браузера. Для Microsoft Internet Explorer возвращаемое значение зависит от настройки текущей зоны. Подробности: http://msdn.microsoft.com/en-us/library/ms535128(VS.85).aspx,</li><li>&lt;ДополнительныеПараметры&gt; - значение, которое было указано при создании объекта <a href="v8help://SyntaxHelperContext/objects/catalog1649/catalog1890/CallbackDescription.html">ОписаниеОповещения</a>.</li></ul>Если параметр не указан или имеет тип <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a>, то по завершении никакая процедура вызвана не будет.<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;Адрес&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. <br>Содержит адрес файла во временном хранилище, по которому должны быть помещены данные. Если не задан или является пустой строкой, то будет создан новый файл.<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;ПомещаемыйФайл&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog343/FileDialog.html">ДиалогВыбораФайла</a>, <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog343/FileRef.html">СсылкаНаФайл</a>. <br>Путь к файлу на диске, данные из которого будут помещены во временное хранилище, или заранее подготовленный диалог выбора файла в режиме открытия файла, или ссылка на файл.<br>Если параметр &lt;Интерактивно&gt; имеет значение <a href="v8help://SyntaxHelperLanguage/def_BooleanTrue">Истина</a>, параметр &lt;ПомещаемыйФайл&gt; может быть не задан или должен иметь тип <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog343/FileDialog.html">ДиалогВыбораФайла</a>.<br>Если параметр &lt;Интерактивно&gt; имеет значение <a href="v8help://SyntaxHelperLanguage/def_BooleanFalse">Ложь</a>, то параметр &lt;ПомещаемыйФайл&gt; должен иметь тип <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a> или <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog343/FileRef.html">СсылкаНаФайл</a>.<br>В веб-клиенте, если расширение работы с файлами не установлено, то параметр &lt;ПомещаемыйФайл&gt;:<ul><li>в интерактивном режиме должен иметь тип <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog343/FileDialog.html">ДиалогВыбораФайла</a>,</li><li>в неинтерактивном режиме <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog343/FileRef.html">СсылкаНаФайл</a>.</li></ul><div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;Интерактивно&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperLanguage/def_Boolean">Булево</a>. <br>Указывает, используется ли интерактивный режим, в котором отображается диалог выбора файла. Этот файл будет помещен по указанному в параметре &lt;Адрес&gt; расположению во временном хранилище или по новому адресу, если параметр &lt;Адрес&gt; опущен. <br><a href="v8help://SyntaxHelperLanguage/def_BooleanTrue">Истина</a> - интерактивный режим используется.<br>Значение по умолчанию: <a href="v8help://SyntaxHelperLanguage/def_BooleanTrue">Истина</a>.<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;УникальныйИдентификаторФормы&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperContext/objects/catalog63/UUID.html">УникальныйИдентификатор</a>. <br>Уникальный идентификатор формы, который можно получить с помощью свойства <a href="v8help://SyntaxHelperContext/objects/catalog1649/catalog1890/ClientApplicationForm/properties/UUID7415.html">УникальныйИдентификатор</a> формы клиентского приложения. Файл помещается во временное хранилище и автоматически удаляется после удаления объекта формы.<br>Если параметр не указан, то помещенное значение будет удалено после очередного запроса сервера из общего модуля, при контекстном и неконтекстном серверном вызове из формы, при серверном вызове из модуля команды или при получении формы.<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;ОписаниеОповещенияПередНачаломПомещенияФайла&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperContext/objects/catalog1649/catalog1890/CallbackDescription.html">ОписаниеОповещения</a>. <br>Содержит описание процедуры, которая будет вызвана непосредственно перед началом помещения файла во временное хранилище. Оповещение будет вызвано со следующими параметрами:<ul><li>&lt;ПомещаемыйФайл&gt; - ссылка на файл, готовый к помещению во временное хранилище.</li><li>&lt;ОтказОтПомещенияФайла&gt; - признак отказа от дальнейшего помещения файла. Если в теле процедуры-обработчика установить данному параметру значение <a href="v8help://SyntaxHelperLanguage/def_BooleanTrue">Истина</a>, то помещение файла будет отменено, обработчик &lt;ОписаниеОповещенияОЗавершении&gt; не вызовется. Значение по умолчанию: <a href="v8help://SyntaxHelperLanguage/def_BooleanFalse">Ложь</a>. Возвращаемый параметр.</li><li>&lt;ДополнительныеПараметры&gt; - значение, которое было указано при создании объекта <a href="v8help://SyntaxHelperContext/objects/catalog1649/catalog1890/CallbackDescription.html">ОписаниеОповещения</a>.</li></ul>Если параметр не указан или имеет тип <a href="v8help://SyntaxHelperLanguage/def_Undefined">Неопределено</a>, то перед помещением файла никакая процедура вызвана не будет.<p class="V8SH_chapter">Описание:</p><p>Начинает помещение файла из локальной файловой системы во временное хранилище.</p><p class="V8SH_chapter">Доступность: </p><p>Тонкий клиент, веб-клиент, мобильный клиент, толстый клиент, мобильное приложение (клиент).<br>Вызов метода выполняет обращение к серверу.<br></p><p class="V8SH_chapter">Примечание:</p>На мобильной платформе параметр &lt;Интерактивно&gt; игнорируется и диалоговое окно выбора файла не отображается никогда.<br>В тонком и толстом клиентах данный метод, пока не сделан выбор из диалога (в интерактивном режиме), приостанавливает исполнение кода на встроенном языке. Само помещение файла не останавливает исполнение кода на встроенном языке.<p class="V8SH_chapter">Пример:</p><TABLE width="100%" bgColor="#f7f7f7"><TBODY><TR><TD><font face="Courier New"> <font color="#0000ff"><font color="#008000">//&nbsp;Помещение&nbsp;файла&nbsp;с&nbsp;показом&nbsp;диалога.<BR></font><BR><font color="#963200">&НаКлиенте</font><BR><font color="#ff0000">Процедура&nbsp;</font>ПоместитьФайлИнтерактивно<font color="#ff0000">(</font>Команда<font color="#ff0000">)</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;ОбработкаОкончанияПомещения&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>ОписаниеОповещения<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff0000">(</font><font color="#000000">"ОбработчикОкончанияПомещения"</font><font color="#ff0000">,</font>&nbsp;ЭтотОбъект<font color="#ff0000">)</font><font color="#ff0000">;</font><BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;НачатьПомещениеФайла<font color="#ff0000">(</font>ОбработкаОкончанияПомещения<font color="#ff0000">,</font>&nbsp;<font color="#ff0000">,</font>&nbsp;<font color="#ff0000">,</font><font color="#ff0000">&nbsp;Истина</font><font color="#ff0000">,</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ЭтотОбъект<font color="#ff0000">.</font>УникальныйИдентификатор<font color="#ff0000">)</font><font color="#ff0000">;</font><font color="#ff0000"><BR>КонецПроцедуры<BR></font><BR><font color="#008000">//&nbsp;Помещение&nbsp;файла&nbsp;без&nbsp;показа&nbsp;диалога.<BR></font><BR><font color="#008000">//&nbsp;(должно&nbsp;быть&nbsp;подключено&nbsp;расширение&nbsp;работы&nbsp;с&nbsp;файлами)<BR></font><BR><font color="#963200">&НаКлиенте</font><BR><font color="#ff0000">Процедура&nbsp;</font>ПоместитьФайлНеИнтерактивно<font color="#ff0000">(</font>Команда<font color="#ff0000">)</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;ОбработкаОкончанияПомещения&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>ОписаниеОповещения<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff0000">(</font><font color="#000000">"ОбработчикОкончанияПомещения"</font><font color="#ff0000">,</font>&nbsp;ЭтотОбъект<font color="#ff0000">)</font><font color="#ff0000">;</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;НачатьПомещениеФайла<font color="#ff0000">(</font>ОбработкаОкончанияПомещения<font color="#ff0000">,</font>&nbsp;<font color="#ff0000">,</font>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">"C:\Temp\test.txt"</font><font color="#ff0000">,</font><font color="#ff0000">&nbsp;Ложь</font><font color="#ff0000">,</font>&nbsp;ЭтотОбъект<font color="#ff0000">.</font>УникальныйИдентификатор<font color="#ff0000">)</font><font color="#ff0000">;</font><font color="#ff0000"><BR>КонецПроцедуры<BR></font><BR><font color="#963200">&НаКлиенте</font><font color="#ff0000"><BR>Процедура&nbsp;</font>ОбработчикОкончанияПомещения<font color="#ff0000">(</font>Результат<font color="#ff0000">,</font>&nbsp;Адрес<font color="#ff0000">,</font>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ВыбранноеИмяФайла<font color="#ff0000">,</font>&nbsp;ДополнительныеПараметры<font color="#ff0000">)</font><font color="#ff0000">&nbsp;Экспорт<BR></font><font color="#ff0000">&nbsp;&nbsp;&nbsp;&nbsp;Если&nbsp;</font>Результат&nbsp;<font color="#ff0000">Тогда<BR></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Сообщить<font color="#ff0000">(</font>Адрес<font color="#ff0000">)</font><font color="#ff0000">;</font><font color="#ff0000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;Иначе<BR></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Сообщить<font color="#ff0000">(</font><font color="#000000">"Файл&nbsp;не&nbsp;был&nbsp;помещен."</font><font color="#ff0000">)</font><font color="#ff0000">;</font><font color="#ff0000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;КонецЕсли&nbsp;</font><font color="#ff0000"><BR>КонецПроцедуры</font></font><BR></font></font></TD></TR></TBODY></TABLE><p class="V8SH_chapter">См. также:</p><p class="V8SH_chapter">Использование в версии:</p><p class="V8SH_versionInfo">Доступен, начиная с версии 8.3.13.</p><p class="V8SH_versionInfo">Не рекомендуется использовать, начиная с версии 8.3.15.</p><p class="V8SH_versionInfo">Описание изменено в версии 8.3.22.</p><HR><p>&nbsp;&nbsp;&nbsp;&nbsp; <a href=http://www.1centerprise.com/devlinks?C="id=00058O00053M04362;lan=ru" target="_blank">Методическая информация</a></p></body></html>
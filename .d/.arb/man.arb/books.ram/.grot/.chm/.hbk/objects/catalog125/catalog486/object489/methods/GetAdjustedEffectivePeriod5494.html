<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="ru"></head><body><h1 class="V8SH_pagetitle">РегистрРасчетаНаборЗаписей.&lt;Имя регистра расчета&gt;.ПолучитьФактическийПериодДействия (CalculationRegisterRecordSet.&lt;Calculation register name&gt;.GetAdjustedEffectivePeriod)</h1><p class="V8SH_title">РегистрРасчетаНаборЗаписей.&lt;Имя регистра расчета&gt; (CalculationRegisterRecordSet.&lt;Calculation register name&gt;)</p><p class="V8SH_heading">ПолучитьФактическийПериодДействия (GetAdjustedEffectivePeriod)</p><div class="__SINCE_SHOW_STYLE__"><p class="not_used">Доступен, начиная с версии 8.3.14.</p></div><p class="V8SH_chapter">Синтаксис:</p>ПолучитьФактическийПериодДействия()<p class="V8SH_chapter">Возвращаемое значение:</p>Тип: <a href="v8help://SyntaxHelperContext/objects/catalog234/catalog236/ValueTable.html">ТаблицаЗначений</a>. <br><p class="V8SH_chapter">Описание:</p><p>Получает фактический период действия (ФПД) для незаписанного набора записей. Полученный ФПД записей позволяет выполнить расчет ресурсов для тех строк набора записей, результат расчета которых зависит от периода их действия. Данные получаются в виде таблицы значений с колонками, полностью повторяющими структуру регистра. Количество строк таблицы значений может быть как больше количества строк набора записей (если период действия записей разбивается на несколько частей за счет вытеснения другими записями), так и меньше (если запись набора полностью вытесняется другими записями).</p><p class="V8SH_chapter">Доступность: </p><p>Сервер, толстый клиент, внешнее соединение.</p><p class="V8SH_chapter">Пример:</p><TABLE width="100%" bgColor="#f7f7f7"><TBODY><TR><TD><font face="Courier New"> <font color="#0000ff">ТаблицаФПД&nbsp;<font color="#ff0000">=</font>&nbsp;НаборЗаписей<font color="#ff0000">.</font>ПолучитьФактическийПериодДействия<font color="#ff0000">(</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR>ОтборСтрок&nbsp;<font color="#ff0000">=</font><font color="#ff0000">&nbsp;Новый&nbsp;</font>Структура<font color="#ff0000">(</font><font color="#000000">"НомерСтроки"</font><font color="#ff0000">)</font><font color="#ff0000">;</font><BR>НомерСтроки&nbsp;<font color="#ff0000">=</font><font color="#000000">&nbsp;1</font><font color="#ff0000">;</font><font color="#ff0000"><BR>Для&nbsp;</font><font color="#ff0000">Каждого&nbsp;</font>Строка&nbsp;<font color="#ff0000">Из&nbsp;</font>НаборЗаписей&nbsp;<font color="#ff0000">Цикл<BR></font>&nbsp;&nbsp;&nbsp;&nbsp;ОтборСтрок<font color="#ff0000">.</font>НомерСтроки&nbsp;<font color="#ff0000">=</font>&nbsp;НомерСтроки<font color="#ff0000">;</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;СтрокиФПД&nbsp;<font color="#ff0000">=</font>&nbsp;ТаблицаФПД<font color="#ff0000">.</font>НайтиСтроки<font color="#ff0000">(</font>ОтборСтрок<font color="#ff0000">)</font><font color="#ff0000">;</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;Строка<font color="#ff0000">.</font>Длительность&nbsp;<font color="#ff0000">=</font><font color="#000000">&nbsp;0</font><font color="#ff0000">;</font><font color="#ff0000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;Для&nbsp;</font><font color="#ff0000">Каждого&nbsp;</font>СтрокаФПД&nbsp;<font color="#ff0000">Из&nbsp;</font>СтрокиФПД&nbsp;<font color="#ff0000">Цикл<BR></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Строка<font color="#ff0000">.</font>Длительность&nbsp;<font color="#ff0000">=</font>&nbsp;Строка<font color="#ff0000">.</font>Длительность&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff0000">+</font>&nbsp;День<font color="#ff0000">(</font>СтрокаФПД<font color="#ff0000">.</font>ПериодДействияКонец<font color="#ff0000">)</font>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff0000">-</font>&nbsp;День<font color="#ff0000">(</font>СтрокаФПД<font color="#ff0000">.</font>ПериодДействияНачало<font color="#ff0000">)</font>&nbsp;<font color="#ff0000">+</font><font color="#000000">&nbsp;1</font><font color="#ff0000">;</font><font color="#ff0000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;КонецЦикла</font><font color="#ff0000">;</font><font color="#ff0000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;Если&nbsp;</font>Строка<font color="#ff0000">.</font>Сторно&nbsp;<font color="#ff0000">Тогда<BR></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Строка<font color="#ff0000">.</font>Длительность&nbsp;<font color="#ff0000">=</font>&nbsp;<font color="#ff0000">-</font>&nbsp;Строка<font color="#ff0000">.</font>Длительность<font color="#ff0000">;</font><font color="#ff0000"><BR>&nbsp;&nbsp;&nbsp;&nbsp;КонецЕсли</font><font color="#ff0000">;</font><BR>&nbsp;&nbsp;&nbsp;&nbsp;НомерСтроки&nbsp;<font color="#ff0000">=</font>&nbsp;НомерСтроки&nbsp;<font color="#ff0000">+</font><font color="#000000">&nbsp;1</font><font color="#ff0000">;</font><font color="#ff0000"><BR>КонецЦикла</font><font color="#ff0000">;</font></font><BR></font></font></TD></TR></TBODY></TABLE><p class="V8SH_chapter">См. также:</p><a href="v8help://SyntaxHelperContext/objects/catalog125/catalog474/object477.html">ПланВидовРасчетаОбъект.&lt;Имя плана видов расчета&gt;</a>, свойство <a href="v8help://SyntaxHelperContext/objects/catalog125/catalog474/object477/properties/DisplacingCalculationTypes2023.html">ВытесняющиеВидыРасчета</a><br><p class="V8SH_chapter">Использование в версии:</p><p class="V8SH_versionInfo">Доступен, начиная с версии 8.3.14.</p><HR><p>&nbsp;&nbsp;&nbsp;&nbsp; <a href=http://www.1centerprise.com/devlinks?C="id=00058O00489M05494;lan=ru" target="_blank">Методическая информация</a></p></body></html>
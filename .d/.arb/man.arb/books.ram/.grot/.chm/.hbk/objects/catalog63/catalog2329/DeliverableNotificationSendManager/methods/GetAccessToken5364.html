<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="ru"></head><body><h1 class="V8SH_pagetitle">МенеджерОтправкиДоставляемыхУведомлений.ПолучитьМаркерДоступа (DeliverableNotificationSendManager.GetAccessToken)</h1><p class="V8SH_title">МенеджерОтправкиДоставляемыхУведомлений (DeliverableNotificationSendManager)</p><p class="V8SH_heading">ПолучитьМаркерДоступа (GetAccessToken)</p><div class="__SINCE_SHOW_STYLE__"><p class="not_used">Доступен, начиная с версии 8.3.11.</p></div><p class="V8SH_chapter">Вариант синтаксиса: С указанием типа подписчика</p><p class="V8SH_chapter">Синтаксис:</p>ПолучитьМаркерДоступа(&lt;ТипПодписчика&gt;, &lt;ИдентификаторПриложения&gt;, &lt;КлючПриложения&gt;)<p class="V8SH_chapter">Параметры:</p><div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;ТипПодписчика&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperContext/objects/catalog2/catalog2331/DeliverableNotificationSubscriberType.html">ТипПодписчикаДоставляемыхУведомлений</a>. <br>Тип подписчика уведомлений. Может принимать значения: <a href="v8help://SyntaxHelperContext/objects/catalog2/catalog2331/DeliverableNotificationSubscriberType/properties/FCM11683.html">FCM</a>, <a href="v8help://SyntaxHelperContext/objects/catalog2/catalog2331/DeliverableNotificationSubscriberType/properties/WNS11346.html">WNS</a> и <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog2914/TextToSpeechVoiceDescription/properties/LanguageCode13576.html">КодЯзыка</a>.<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;ИдентификаторПриложения&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. <br>Уникальный идентификатор для приложения магазина Windows или AppGallery Connect (Huawei).<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;КлючПриложения&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. <br>Cекретный ключ клиента для идентификации в облачных службах Microsoft или Huawei, или содержимое файла JSON с закрытым ключом учетной записи служб, полученного из настроек проекта в консоли Firebase.<p class="V8SH_chapter">Вариант синтаксиса: Без указания типа подписчика</p><p class="V8SH_chapter">Синтаксис:</p>ПолучитьМаркерДоступа(&lt;ИдентификаторПриложения&gt;, &lt;КлючПриложения&gt;)<p class="V8SH_chapter">Параметры:</p><div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;ИдентификаторПриложения&gt; (обязательный)</div>Тип: <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. <br>Уникальный идентификатор для приложения магазина Windows или AppGallery Connect (Huawei).<div class="V8SH_rubric"> <p style="margin-top: 2px; margin-bottom: 1px">&lt;КлючПриложения&gt; (необязательный)</div>Тип: <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. <br>Cекретный ключ клиента для идентификации в облачных службах Microsoft.<p class="V8SH_chapter">Описание варианта метода:</p>Данный вариант устаревает с версии 8.3.24.<br>Рекомендуется использовать вариант метода с указанием типа подписчика.<p class="V8SH_chapter">Возвращаемое значение:</p>Тип: <a href="v8help://SyntaxHelperLanguage/def_String">Строка</a>. <br>Если запрос выполнен успешно, возвращает маркер в виде строки.<br>Если запрос выполнен неуспешно - генерируется исключение.<br>Если запрос не удалось выполнить по причине ошибки соединения сервисом, генерирующем маркер, исключение будет содержать информацию об этом.<br>Если маркер не был сгенерирован сервисом, исключение будет содержать описание ошибки, возвращенное сервером.<p class="V8SH_chapter">Описание:</p><p>Выполняет запрос на получение маркера доступа.<br>Маркер доступа используется для отправки уведомлений на устройства под управлением ОС семейства Windows или на устройства под управлением ОС Android через Firebase Cloud Messaging по протоколу HTTP v1, или с установленными сервисами Huawei. С его помощью выполняется осуществляется авторизация в сервисе для отправки push-уведомления. <br>Полученный маркер следует использовать в методе <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog2329/DeliverableNotificationSendManager/methods/Send4975.html">Отправить</a> в качестве параметра &lt;ДанныеАутентификации&gt;.<br>Маркер рекомендуется сохранять в информационной базе и использовать при отправке в течение некоторого периода времени, пока не будет выдано сообщение о том, что он устарел.<br>Если в процессе отправки уведомлений произошла ошибка, связанная с маркером доступа (маркер устарел, канал push-уведомлений не прошел проверку по заданному маркеру и т.д.), то возвращаемый параметр &lt;ИнформацияОПроблемахОтправкиДоставляемыхУведомлений&gt; будет содержать коллекцию объектов <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog2329/DeliverableNotificationSendingIssueInformation.html">ИнформацияОПроблемеОтправкиДоставляемогоУведомления</a>, где для неотправленных уведомлений будет указан тип ошибки <a href="v8help://SyntaxHelperContext/objects/catalog2/catalog2331/DeliverableNotificationSendErrorType/properties/AuthenticationDataError11356.html">ОшибкаДанныхАутентификации</a>. Это означает, что необходимо получить новый маркер доступа и повторить попытку. <br>Если после получения нового маркера, ошибка повторяется, то, вероятнее всего, проблема не в маркере, а в объекте <a href="v8help://SyntaxHelperContext/objects/catalog63/catalog2329/DeliverableNotificationSubscriberID.html">ИдентификаторПодписчикаДоставляемыхУведомлений</a>. Такая ситуация возможна когда канал push-уведомлений и маркер доступа получены для разных приложений.</p><p class="V8SH_chapter">Доступность: </p><p>Тонкий клиент, сервер, толстый клиент, внешнее соединение.</p><p class="V8SH_chapter">Использование в версии:</p><p class="V8SH_versionInfo">Доступен, начиная с версии 8.3.11.</p><p class="V8SH_versionInfo">Описание изменено в версии 8.3.25.</p><HR><p>&nbsp;&nbsp;&nbsp;&nbsp; <a href=http://www.1centerprise.com/devlinks?C="id=00058O02336M05364;lan=ru" target="_blank">Методическая информация</a></p></body></html>